---
title: 文本转语音
date: 2020-05-29
pic: /images/15.jpg
categories:
  - 前端
tags:
  - js
---

# 文本转语音

:::tip
使用 js 将文本转为语音
:::

<div class="audio">
 <button @click="a">点击播放语音</button>
 <button @click="b">取消播放语音</button>
</div>

<script setup>
     let text = "这是一段测试文本，主人，压脉带"
     let msg = new SpeechSynthesisUtterance(text)
     function a(){
        msg.volumev= 10 // 音量
        msg.rate = 0.5  // 语速
        window.speechSynthesis.speak(msg)
    }
     function b(){
        window.speechSynthesis.cancel()
    }
</script>

<style scoped>
.audio{
    margin: auto;
    width: 50%;
    text-align: center;
    display:flex;
    justify-content: space-around;

   
  }
.audio button {
  padding:10px;
  border-radius: 10px;
  background-color: #FFA500 ;
  color:#FFFFFF;
}
</style>

## 代码展示

```html
<div class="audio">
  <button @click="a">点击播放语音</button>
  <button @click="b">取消播放语音</button>
</div>

<script setup>
  let text = "这是一段测试文本，主人，压脉带";
  let msg = new SpeechSynthesisUtterance(text);
  function a() {
    msg.volumev = 10; // 音量
    msg.rate = 0.5; // 语速
    window.speechSynthesis.speak(msg);
  }
  function b() {
    window.speechSynthesis.cancel();
  }
</script>

<style scoped>
  .audio {
    margin: auto;
    width: 50%;
    text-align: center;
    display: flex;
    justify-content: space-around;
  }
  .audio button {
    padding: 10px;
    border-radius: 10px;
    background-color: #ffa500;
    color: #ffffff;
  }
</style>
```

### SpeechSynthesisUtterance 基本属性

- SpeechSynthesisUtterance.lang 获取并设置话语的语言
- SpeechSynthesisUtterance.pitch 获取并设置话语的音调(值越大越尖锐,越低越低沉)
- SpeechSynthesisUtterance.rate 获取并设置说话的速度(值越大语速越快,越小语速越慢)
- SpeechSynthesisUtterance.text 获取并设置说话时的文本
- SpeechSynthesisUtterance.voice 获取并设置说话的声音
- SpeechSynthesisUtterance.volume 获取并设置说话的音量

### SpeechSynthesisUtterance.lang 获取并设置话语的语言

- speak() 将对应的实例添加到语音队列中
- cancel() 删除队列中所有的语音.如果正在播放,则直接停止
- pause() 暂停语音
- resume() 恢复暂停的语音
- getVoices 获取支持的语言数组. 注意:必须添加在 voiceschanged 事件中才能生效
